---
last_sync: 2025-09-10T04:07:26Z
name: å•æ¬¡è¯»å–åŠŸèƒ½å®ç°
status: open
created: 2025-09-09T04:10:01Z
updated: 2025-09-09T11:14:18Z
github: [Will be updated when synced to GitHub]
depends_on: [002, 003, 004]
parallel: false
conflicts_with: []
---

# Task: å•æ¬¡è¯»å–åŠŸèƒ½å®ç°

## Description

å®ç°å•æ¬¡Modbusæ•°æ®è¯»å–åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ç«‹å³è¯»å–é…ç½®çš„åœ°å€æ®µæ•°æ®å¹¶åœ¨ç•Œé¢ä¸ŠæŸ¥çœ‹ç»“æœï¼Œä¸ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ã€‚æ”¯æŒå®æ—¶æ•°æ®æ˜¾ç¤ºã€é”™è¯¯å¤„ç†å’Œè¯»å–çŠ¶æ€æŒ‡ç¤ºã€‚

## Acceptance Criteria

- [ ] åˆ›å»ºDataReaderç»„ä»¶ï¼Œæ˜¾ç¤ºå®æ—¶è¯»å–çš„æ•°æ®
- [ ] å®ç°"ç«‹å³è¯»å–"æŒ‰é’®ï¼Œè§¦å‘æ‰€æœ‰é…ç½®åœ°å€æ®µçš„è¯»å–
- [ ] ä»¥è¡¨æ ¼å½¢å¼æ˜¾ç¤ºè¯»å–ç»“æœï¼šåœ°å€ã€åŸå§‹å€¼ã€è§£æå€¼ã€æ—¶é—´æˆ³
- [ ] æ”¯æŒä¸åŒæ•°æ®ç±»å‹çš„è§£æï¼ˆuint16, int16, uint32, int32, float32ï¼‰
- [ ] æ·»åŠ è¯»å–çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆç©ºé—²/è¯»å–ä¸­/å®Œæˆ/é”™è¯¯ï¼‰
- [ ] å®ç°è¯»å–é”™è¯¯çš„è¯¦ç»†æ˜¾ç¤ºå’Œæ•…éšœè¯Šæ–­ä¿¡æ¯
- [ ] æ”¯æŒæ•°æ®æ ¼å¼åˆ‡æ¢ï¼ˆåè¿›åˆ¶/åå…­è¿›åˆ¶/äºŒè¿›åˆ¶ï¼‰

## Technical Details

### å®ç°æ–¹æ¡ˆ

1. **ç»„ä»¶ç»“æ„**:
   ```tsx
   // src/components/DataReader.tsx
   interface ReadResult {
     address: number;
     rawValue: number;
     parsedValue: number | string;
     timestamp: Date;
     success: boolean;
     error?: string;
   }
   
   export function DataReader() {
     const [readResults, setReadResults] = useState<ReadResult[]>([]);
     const [isReading, setIsReading] = useState(false);
     // è¯»å–é€»è¾‘å’Œç»“æœæ˜¾ç¤º
   }
   ```

2. **æ•°æ®è§£æå™¨**:
   ```tsx
   // src/utils/dataParser.ts
   export const parseModbusData = (
     rawData: number[], 
     dataType: DataType, 
     startAddress: number
   ): ParsedData[] => { ... };
   
   export const formatDisplayValue = (
     value: number, 
     format: 'dec' | 'hex' | 'bin'
   ): string => { ... };
   ```

3. **Tauriå‘½ä»¤æ‰©å±•**:
   ```rust
   // src-tauri/src/commands/reading.rs
   #[tauri::command]
   pub async fn read_modbus_ranges(
       ranges: Vec<AddressRange>
   ) -> Result<Vec<ReadResult>, String> {
       // æ‰¹é‡è¯»å–å¤šä¸ªåœ°å€æ®µ
   }
   ```

4. **ç•Œé¢è®¾è®¡**:
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ æ•°æ®è¯»å–                                             â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ [ç«‹å³è¯»å–] [æ ¼å¼: åè¿›åˆ¶â–¼] çŠ¶æ€: âœ…å·²å®Œæˆ           â”‚
   â”‚                                                     â”‚
   â”‚ â”Œâ”€è¯»å–ç»“æœâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚åœ°å€  â”‚åŸå§‹å€¼â”‚è§£æå€¼ â”‚ç±»å‹  â”‚æ—¶é—´æˆ³             â”‚ â”‚
   â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
   â”‚ â”‚1000 â”‚12345â”‚123.45â”‚floatâ”‚2025-09-09 12:34  â”‚ â”‚
   â”‚ â”‚1002 â”‚23456â”‚23456 â”‚uint â”‚2025-09-09 12:34  â”‚ â”‚
   â”‚ â”‚2000 â”‚âŒ   â”‚é”™è¯¯  â”‚int  â”‚è¿æ¥è¶…æ—¶           â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                                                     â”‚
   â”‚ ğŸ“Š è¯»å–ç»Ÿè®¡: æˆåŠŸ 45/50, å¤±è´¥ 5, ç”¨æ—¶ 1.2s         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```

### æ ¸å¿ƒåŠŸèƒ½
- **æ‰¹é‡è¯»å–**: ä¸€æ¬¡æ€§è¯»å–æ‰€æœ‰é…ç½®çš„åœ°å€æ®µ
- **å®æ—¶æ˜¾ç¤º**: è¯»å–ç»“æœç«‹å³æ˜¾ç¤ºï¼Œæ— éœ€åˆ·æ–°
- **é”™è¯¯å¤„ç†**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæ¢å¤å»ºè®®
- **æ•°æ®è§£æ**: æ ¹æ®é…ç½®çš„æ•°æ®ç±»å‹æ­£ç¡®è§£ææ•°å€¼

## Dependencies

- [ ] ä»»åŠ¡002ï¼ˆModbusæ ¸å¿ƒåŠŸèƒ½ï¼‰- åç«¯è¯»å–æ¥å£
- [ ] ä»»åŠ¡003ï¼ˆè¿æ¥é…ç½®ï¼‰- è®¾å¤‡è¿æ¥çŠ¶æ€
- [ ] ä»»åŠ¡004ï¼ˆåœ°å€èŒƒå›´ç®¡ç†ï¼‰- åœ°å€æ®µé…ç½®æ•°æ®

## Effort Estimate

- Size: M
- Hours: 12-16å°æ—¶
- Parallel: falseï¼ˆéœ€è¦å‰ç½®ä»»åŠ¡å®Œæˆï¼‰

## Definition of Done

- [ ] ç”¨æˆ·ç‚¹å‡»"ç«‹å³è¯»å–"èƒ½æˆåŠŸè·å–æ‰€æœ‰åœ°å€æ®µæ•°æ®
- [ ] è¯»å–ç»“æœä»¥æ¸…æ™°çš„è¡¨æ ¼å½¢å¼æ˜¾ç¤º
- [ ] ä¸åŒæ•°æ®ç±»å‹çš„è§£æç»“æœæ­£ç¡®æ˜¾ç¤º
- [ ] è¯»å–è¿‡ç¨‹ä¸­çš„çŠ¶æ€å˜åŒ–ç”¨æˆ·å¯è§
- [ ] è¿æ¥é”™è¯¯ã€è¶…æ—¶ç­‰å¼‚å¸¸æƒ…å†µæœ‰æ˜ç¡®æç¤º
- [ ] è¯»å–æ€§èƒ½æ»¡è¶³è¦æ±‚ï¼ˆ<2ç§’å®Œæˆå¸¸è§„è¯»å–ï¼‰
- [ ] æ•°æ®æ ¼å¼åˆ‡æ¢åŠŸèƒ½æ­£å¸¸å·¥ä½œ