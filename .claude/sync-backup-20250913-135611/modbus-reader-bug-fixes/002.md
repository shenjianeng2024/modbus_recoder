---
last_sync: 2025-09-13T05:36:36Z
name: 地址段配置管理
status: open
priority: P0
created: 2025-09-13T05:36:36Z
parallel: true
dependencies: []
assignee: 
labels: [feature, configuration, frontend, backend]
estimated_hours: 20
actual_hours: 0
github: [Will be updated when synced to GitHub]
---

# Task: 地址段配置管理

## 描述
实现JSON格式的地址段配置导出/导入功能，支持用户在不同设备或项目间复用配置，提升配置管理效率。

## 验收标准
- [ ] JSON导出功能正常工作，生成标准格式文件
- [ ] 文件导入验证功能，支持格式检查和错误提示
- [ ] 配置模板提供，包含常用地址段配置示例
- [ ] JSON配置文件格式清晰易懂，支持注释
- [ ] 支持批量地址段配置导入
- [ ] 添加配置文件版本控制
- [ ] 实现配置预览和编辑功能

## 技术要求
- 扩展现有配置系统，不破坏现有功能
- JSON格式设计要便于用户理解和编辑
- 添加完整的配置验证和错误提示
- 保持与现有配置格式的完全兼容性
- 支持配置文件版本迁移

## JSON格式设计
```json
{
  "version": "1.0",
  "export_date": "2025-09-13T05:36:36Z",
  "description": "Modbus地址段配置文件",
  "address_ranges": [
    {
      "name": "Temperature Sensors",
      "start_address": 40001,
      "count": 10,
      "data_type": "float32",
      "description": "锅炉温度传感器读数",
      "enabled": true,
      "polling_interval": 1000
    },
    {
      "name": "Pressure Readings",
      "start_address": 40011,
      "count": 5,
      "data_type": "uint16",
      "description": "压力表读数",
      "enabled": true,
      "polling_interval": 2000
    }
  ]
}
```

## 实施步骤
1. 设计完整的JSON配置文件格式规范
2. 实现后端导出/导入API接口
3. 扩展前端AddressRangeManager组件
4. 添加文件选择、预览和验证UI
5. 实现配置模板管理功能
6. 添加完整的错误处理和用户反馈

## 文件涉及
- `src/components/AddressRangeManager.tsx`
- `src-tauri/src/lib.rs` (配置相关API)
- `src-tauri/src/config_manager.rs` (新建配置管理模块)
- `src/utils/configUtils.ts` (前端配置工具)
- `templates/` (配置模板目录)